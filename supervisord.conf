[supervisord]
nodaemon=true
user=root

[program:fbq]
environment=FILEBROWSER_CONFIG="/app/filebrowser.yaml"
command=filebrowser
autorestart=true

[program:llama_router]
# This process is toggled by the Dashboard - do NOT autostart
command=python3 -m llama_cpp.server --models_dir /workspace/models --host 0.0.0.0 --port 5001 --n_gpu_layers -1
autostart=false
autorestart=false

[program:vlm_ui]
directory=/app/vlm-caption
# --host is hardcoded in app.py; only --port is accepted
command=python3 app.py --port 5002
autorestart=true
startretries=3

[program:ostris_gui]
directory=/app/ai-toolkit
# Gradio uses --server_name and --server_port, not --host / --port
command=python3 webui.py --server_name 0.0.0.0 --server_port 7860
autorestart=true
startretries=3

[program:coordinator]
command=python3 /app/scripts/coordinator.py
autorestart=true